<h3>New customers, please register here:</h3>

<form class="container" #f1="ngForm">
    <div class="form-group row">
        <label for="name" class="col-sm-3">Name</label>
        <div class="col-sm-7">
            <input class="form-control" 
                required
                minlength="3"
                type="text" name="name" id="name" 
                #tfName="ngModel"
                [(ngModel)]="c.name">

            <div class="text-danger" *ngIf="tfName.invalid && tfName.dirty">
                <div *ngIf="tfName.errors.required">Name is mandatory</div>
                <div *ngIf="tfName.errors.minlength">Name must have at least 3 letters</div>
            </div>
        </div>
    </div>
    
    <div class="form-group row">
        <label for="email" class="col-sm-3">Email address</label>
        <div class="col-sm-7">
            <input class="form-control" 
                #tfEmail="ngModel"
                required
                pattern="[^@]+@[^\.]+\..+"
                type="email" name="email" id="email" [(ngModel)]="c.email">
            <div class="text-danger" *ngIf="tfEmail.invalid && tfEmail.dirty">
                <div *ngIf="tfEmail.errors.required">Email address is mandatory</div>
                <div *ngIf="tfEmail.errors.pattern">Invalid email address pattern</div>
            </div>
        </div>
    </div>
    <div class="form-group row">
        <label for="phone" class="col-sm-3">Phone number</label>
        <div class="col-sm-7">
            <input class="form-control" type="tel" 
                #tfPhone="ngModel"
                required
                pattern="^\d{10,12}$"
                name="phone" id="phone" [(ngModel)]="c.phone">
            <div class="text-danger" *ngIf="tfPhone.invalid && tfPhone.dirty">
                <div *ngIf="tfPhone.errors.required">Phone number is mandatory</div>
                <div *ngIf="tfPhone.errors.pattern">Only 10-12 digits allowed</div>
            </div>
        </div>
    </div>
    <div class="form-group row">
        <label for="street" class="col-sm-3">Street/house no.</label>
        <div class="col-sm-7">
            <input class="form-control" type="text" name="street" id="street" [(ngModel)]="c.street">
        </div>
    </div>
    <div class="form-group row">
        <label for="area" class="col-sm-3">Area/locality</label>
        <div class="col-sm-7">
            <input class="form-control" type="text" name="area" id="area" [(ngModel)]="c.area">
        </div>
    </div>
    <div class="form-group row">
        <label for="city" class="col-sm-3">City</label>
        <div class="col-sm-7">
            <input class="form-control" type="text" name="city" id="city" [(ngModel)]="c.city">
        </div>
    </div>
    <div class="form-group row">
        <label for="state" class="col-sm-3">State</label>
        <div class="col-sm-7">
            <input class="form-control" type="text" name="state" id="state" [(ngModel)]="c.state">
        </div>
    </div>
    <div class="form-group row">
        <label for="pincode" class="col-sm-3">Pincode</label>
        <div class="col-sm-7">
            <input class="form-control" type="text" name="pincode" id="pincode" [(ngModel)]="c.pincode">
        </div>
    </div>
    <div class="form-group row">
        <label for="country" class="col-sm-3">country</label>
        <div class="col-sm-7">
            <input class="form-control" type="text" name="country" id="country" [(ngModel)]="c.country">
        </div>
    </div>
    <div class="form-group row">
        <label for="password" class="col-sm-3">Password</label>
        <div class="col-sm-7">
            <input class="form-control" type="password" 
                #tfPassword="ngModel"
                required
                minlength="5"
                name="password" id="password" [(ngModel)]="c.password">
            <div class="text-danger" *ngIf="tfPassword.invalid && tfPassword.dirty">
                <div *ngIf="tfPassword.errors.required">Password is mandatory</div>
                <div *ngIf="tfPassword.errors.minlength">Must be at least 5 letters</div>
            </div>
        </div>
    </div>
    <div class="form-group row">
        <label for="c_password" class="col-sm-3">Confirm password</label>
        <div class="col-sm-7">
            <input class="form-control" type="password" 
                #tfc_password="ngModel"
                [ngClass]="{'ng-valid': passwordsMatch, 'ng-invalid': !passwordsMatch}"
                name="c_password" id="c_password" [(ngModel)]="c_password">
            <div class="text-danger"
                *ngIf="tfc_password.dirty && !passwordsMatch">
                Passwords don't match
            </div>
        </div>
    </div>
    <div class="form-group row">
        <label class="col-sm-3"></label>
        <div class="col-sm-7">
            <button class="btn"
                (click)="register()"
                [ngClass]="{'btn-primary': f1.valid, 'btn-danger': f1.invalid}"
                [disabled]="f1.invalid">Submit</button>
        </div>
    </div>
</form>
